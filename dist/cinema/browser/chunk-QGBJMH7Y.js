import{a as zt}from"./chunk-RMTH5SD5.js";import"./chunk-X4G2UA5K.js";import"./chunk-JJT6K3XQ.js";import{a as kt}from"./chunk-LQHF5XQL.js";import"./chunk-MS4AQ6UA.js";import"./chunk-E2NKI5YT.js";import{a as Tt,b as Dt,c as At}from"./chunk-C5D5XPLB.js";import{a as Ft}from"./chunk-UMU2FEH2.js";import{a as wt,b as St}from"./chunk-D26OFXL2.js";import{d as Pt}from"./chunk-J32DXLHF.js";import{a as ie}from"./chunk-NSEFZZEN.js";import{a as ut,b as vt}from"./chunk-DDVV6NKZ.js";import{d as Et,e as It}from"./chunk-OQJFGUDZ.js";import{b as ht,c as _t}from"./chunk-FCZTQVRE.js";import{D as yt,E as Ot,c as it,g as ot,j as N,m as at,t as oe,u as ae,v as bt,y as Ct,z as Mt}from"./chunk-2FAWVZHA.js";import{k as rt,m as st,n as lt}from"./chunk-SZLBBELY.js";import{l as tt,m as nt,o as E,s as I}from"./chunk-NRVZBHM6.js";import{a as dt,b as pt,c as ct,d as mt,e as gt,f as ft,g as xt}from"./chunk-UTQDTBMQ.js";import{$ as Je,M as Ke,O as Ye,Y as $,Z as Xe,a as qe,e as O,f as w,fa as et,ga as F,ha as k,k as Ze,l as S,y as ne}from"./chunk-BTJY3BD6.js";import{$b as ue,Ac as te,Ba as C,C as ke,Ca as He,Cb as X,D as R,Db as l,Dc as z,Eb as J,Ec as Qe,Fa as ge,Fb as j,H as Te,Ia as Re,Ib as Ue,J as De,M as Ae,Mb as a,Na as je,Nb as o,Ob as b,Sb as ee,W as me,Wb as P,Xb as m,Y as h,Yb as xe,Zb as A,_b as Ge,a as pe,ac as ve,b as ce,bc as B,ca as G,cb as Be,cc as V,e as U,ea as L,fb as r,gc as s,ha as c,hb as Ve,hc as M,ic as v,j as T,jb as $e,jc as he,kb as K,mb as We,n as Ie,oc as H,pa as Q,qa as q,qc as y,ra as Z,rb as _,rc as _e,sa as ze,sb as Y,t as Fe,tb as D,ua as Ne,uc as be,vb as fe,wb as p,xa as Le}from"./chunk-HKKO7SBW.js";var Ut=t=>["/movies",t],Gt=t=>["/reserve",t];function Qt(t,i){if(t&1&&(a(0,"span",19)(1,"mat-icon"),s(2,"schedule"),o(),s(3),o()),t&2){let e=m().$implicit;r(3),v(" ",e.durationMinutes," min ")}}function qt(t,i){if(t&1&&(a(0,"span",20)(1,"mat-icon"),s(2,"star"),o(),s(3),o()),t&2){let e=m().$implicit;r(3),v(" ",e.rating," ")}}function Zt(t,i){if(t&1&&(a(0,"div",21),s(1),o()),t&2){let e=m().$implicit,n=m(2);r(),v(" ",n.getGenresList(e)," ")}}function Kt(t,i){if(t&1&&(a(0,"button",22)(1,"mat-icon"),s(2,"event_seat"),o(),s(3," Reserve Seats "),o()),t&2){let e=m().$implicit;l("routerLink",y(1,Gt,e.nextScreening.screeningId))}}function Yt(t,i){if(t&1&&(a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),s(5),o(),a(6,"div",12),p(7,Qt,4,1,"span",13)(8,qt,4,1,"span",14),o(),p(9,Zt,2,1,"div",15),a(10,"div",16)(11,"button",17)(12,"mat-icon"),s(13,"info"),o(),s(14," View Details "),o(),p(15,Kt,4,3,"button",18),o()()()()()),t&2){let e=i.$implicit;r(),J("background-image","url("+e.backdropUrl+")"),r(4),M(e.title),r(2),l("ngIf",e.durationMinutes),r(),l("ngIf",e.rating),r(),l("ngIf",e.genres==null?null:e.genres.length),r(2),l("routerLink",y(8,Ut,e.id)),r(4),l("ngIf",e.nextScreening)}}function Xt(t,i){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"h2",3)(3,"mat-icon",4),s(4,"trending_up"),o(),a(5,"span"),s(6,"Trending Now"),o()()(),a(7,"div",5),p(8,Yt,16,10,"div",6),o()()),t&2){let e=m();r(8),l("ngForOf",e.movies)}}var re=class t{movies=[];getGenresList(i){return!i.genres||i.genres.length===0?"":i.genres.map(e=>e.name||e).slice(0,3).join(", ")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-trending-movies"]],inputs:{movies:"movies"},decls:1,vars:1,consts:[["class","trending-section",4,"ngIf"],[1,"trending-section"],[1,"trending-header"],[1,"trending-title"],[1,"trending-icon"],[1,"trending-carousel"],["class","trending-slide",4,"ngFor","ngForOf"],[1,"trending-slide"],[1,"trending-backdrop"],[1,"trending-overlay"],[1,"trending-content"],[1,"trending-movie-title"],[1,"trending-movie-meta"],["class","trending-duration",4,"ngIf"],["class","trending-rating",4,"ngIf"],["class","trending-movie-genres",4,"ngIf"],[1,"trending-actions"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","accent","class","reserve-btn",3,"routerLink",4,"ngIf"],[1,"trending-duration"],[1,"trending-rating"],[1,"trending-movie-genres"],["mat-raised-button","","color","accent",1,"reserve-btn",3,"routerLink"]],template:function(e,n){e&1&&p(0,Xt,9,1,"div",0),e&2&&l("ngIf",n.movies.length>0)},dependencies:[S,O,w,ne,k,F,I,E],styles:[".trending-section[_ngcontent-%COMP%]{margin-bottom:30px;border-radius:16px;overflow:hidden;box-shadow:0 8px 20px #0006;background-color:#35342e;width:100%}.trending-header[_ngcontent-%COMP%]{padding:15px 20px;background-color:#ff6b6b1a;border-bottom:1px solid rgba(255,107,107,.3)}.trending-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:0;font-size:22px;font-weight:600;color:#ff6b6b}.trending-icon[_ngcontent-%COMP%]{color:#ff6b6b}.trending-carousel[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scrollbar-width:thin;scrollbar-color:#ff6b6b #35342e;padding-bottom:8px}.trending-carousel[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.trending-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#35342e;border-radius:10px}.trending-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ff6b6b;border-radius:10px}.trending-slide[_ngcontent-%COMP%]{flex:0 0 auto;width:100%;height:300px;position:relative;border-radius:0;overflow:hidden}.trending-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:center}.trending-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,#000000d9,#0009 50%,#0000004d 80%,#0003);display:flex;align-items:center}.trending-content[_ngcontent-%COMP%]{padding:30px;max-width:500px}.trending-movie-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:15px;color:#fff}.trending-movie-meta[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:15px}.trending-duration[_ngcontent-%COMP%], .trending-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:#ffffffe6}.trending-duration[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .trending-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.trending-movie-genres[_ngcontent-%COMP%]{margin-bottom:20px;color:#fffc}.trending-actions[_ngcontent-%COMP%]{display:flex;gap:15px}.trending-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.trending-actions[_ngcontent-%COMP%]   button.mat-accent[_ngcontent-%COMP%], button.reserve-btn[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}button.reserve-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 1200px){.trending-slide[_ngcontent-%COMP%]{height:250px}.trending-content[_ngcontent-%COMP%]{max-width:450px}.trending-movie-title[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 768px){.trending-slide[_ngcontent-%COMP%]{height:220px}.trending-content[_ngcontent-%COMP%]{padding:20px;max-width:100%}.trending-movie-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:10px}.trending-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start}}"]})};var Oe=new L("CdkAccordion"),Nt=(()=>{class t{_stateChanges=new T;_openCloseAllActions=new T;id=c($).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",z]},exportAs:["cdkAccordion"],features:[H([{provide:Oe,useExisting:t}]),Q]})}return t})(),Lt=(()=>{class t{accordion=c(Oe,{optional:!0,skipSelf:!0});_changeDetectorRef=c(te);_expansionDispatcher=c(ie);_openCloseAllSubscription=U.EMPTY;closed=new C;opened=new C;destroyed=new C;expandedChange=new C;id=c($).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",z],disabled:[2,"disabled","disabled",z]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[H([{provide:Oe,useValue:void 0}])]})}return t})(),Ht=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=G({})}return t})();var tn=["body"],nn=["bodyWrapper"],on=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],an=["mat-expansion-panel-header","*","mat-action-row"];function rn(t,i){}var sn=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ln=["mat-panel-title","mat-panel-description","*"];function dn(t,i){t&1&&(a(0,"span",1),ze(),a(1,"svg",2),b(2,"path",3),o()())}var we=new L("MAT_ACCORDION"),Rt=new L("MAT_EXPANSION_PANEL"),pn=(()=>{class t{_template=c(Ve);_expansionPanel=c(Rt,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),jt=new L("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Se=(()=>{class t extends Lt{_viewContainerRef=c(We);_animationsDisabled=c(je,{optional:!0})==="NoopAnimations";_document=c(qe);_ngZone=c(He);_elementRef=c(ge);_renderer=c($e);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new C;afterCollapse=new C;_inputChanges=new T;accordion=c(we,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=c($).getId("mat-expansion-panel-header-");constructor(){super();let e=c(jt,{optional:!0});this._expansionDispatcher=c(ie),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(me(null),R(()=>this.expanded&&!this._portal),De(1)).subscribe(()=>{this._portal=new rt(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:n})=>{e===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(n,d,u){if(n&1&&ue(u,pn,5),n&2){let f;B(f=V())&&(d._lazyContent=f.first)}},viewQuery:function(n,d){if(n&1&&(ve(tn,5),ve(nn,5)),n&2){let u;B(u=V())&&(d._body=u.first),B(u=V())&&(d._bodyWrapper=u.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,d){n&2&&j("mat-expanded",d.expanded)("mat-expansion-panel-spacing",d._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",z],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[H([{provide:we,useValue:void 0},{provide:Rt,useExisting:t}]),fe,Q],ngContentSelectors:an,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,d){n&1&&(xe(on),A(0),a(1,"div",2,0)(3,"div",3,1)(5,"div",4),A(6,1),p(7,rn,0,0,"ng-template",5),o(),A(8,2),o()()),n&2&&(r(),X("inert",d.expanded?null:""),r(2),l("id",d.id),X("aria-labelledby",d._headerId),r(4),l("cdkPortalOutlet",d._portal))},dependencies:[st],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var Ee=(()=>{class t{panel=c(Se,{host:!0});_element=c(ge);_focusMonitor=c(Ke);_changeDetectorRef=c(te);_parentChangeSubscription=U.EMPTY;constructor(){c(Ye).load(tt);let e=this.panel,n=c(jt,{optional:!0}),d=c(new Le("tabindex"),{optional:!0}),u=e.accordion?e.accordion._stateChanges.pipe(R(f=>!!(f.hideToggle||f.togglePosition))):Ie;this.tabIndex=parseInt(d||"")||0,this._parentChangeSubscription=ke(e.opened,e.closed,u,e._inputChanges.pipe(R(f=>!!(f.hideToggle||f.disabled||f.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(R(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Xe(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,d){n&1&&P("click",function(){return d._toggle()})("keydown",function(f){return d._keydown(f)}),n&2&&(X("id",d.panel._headerId)("tabindex",d.disabled?-1:d.tabIndex)("aria-controls",d._getPanelId())("aria-expanded",d._isExpanded())("aria-disabled",d.panel.disabled),J("height",d._getHeaderHeight()),j("mat-expanded",d._isExpanded())("mat-expansion-toggle-indicator-after",d._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",d._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Qe(e)]},ngContentSelectors:ln,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,d){n&1&&(xe(sn),a(0,"span",0),A(1),A(2,1),A(3,2),o(),p(4,dn,3,0,"span",1)),n&2&&(j("mat-content-hide-toggle",!d._showToggle()),r(4),Ue(d._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})();var Bt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),Vt=(()=>{class t extends Nt{_keyManager;_ownHeaders=new Re;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(me(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Je(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(d){return(e||(e=Ne(t)))(d||t)}})();static \u0275dir=D({type:t,selectors:[["mat-accordion"]],contentQueries:function(n,d,u){if(n&1&&ue(u,Ee,5),n&2){let f;B(f=V())&&(d._headers=f)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,d){n&2&&j("mat-accordion-multi",d.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",z],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[H([{provide:we,useExisting:t}]),fe]})}return t})(),$t=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=G({imports:[et,Ht,lt]})}return t})();function mn(t,i){if(t&1){let e=ee();a(0,"button",18),P("click",function(){q(e);let d=m();return Z(d.searchControl.setValue(""))}),a(1,"mat-icon"),s(2,"close"),o()()}}function gn(t,i){if(t&1&&(a(0,"mat-option",15),s(1),o()),t&2){let e=i.$implicit;l("value",e),r(),M(e)}}function fn(t,i){if(t&1&&(a(0,"mat-option",15),s(1),o()),t&2){let e=i.$implicit;l("value",e.value),r(),v(" ",e.label," ")}}function xn(t,i){if(t&1&&(a(0,"mat-option",15),s(1),o()),t&2){let e=i.$implicit;l("value",e),r(),M(e)}}function un(t,i){if(t&1&&(a(0,"mat-option",15),s(1),o()),t&2){let e=i.$implicit;l("value",e.value),r(),v(" ",e.label," ")}}function vn(t,i){if(t&1&&(a(0,"mat-option",15),s(1),o()),t&2){let e=i.$implicit;l("value",e.value),r(),v(" ",e.label," ")}}var se=class t{filterOptions;searchControl;genreControl;durationControl;ratingControl;timeFrameControl;sortControl;resetFilters=new C;onResetFilters(){this.resetFilters.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-movie-filters"]],inputs:{filterOptions:"filterOptions",searchControl:"searchControl",genreControl:"genreControl",durationControl:"durationControl",ratingControl:"ratingControl",timeFrameControl:"timeFrameControl",sortControl:"sortControl"},outputs:{resetFilters:"resetFilters"},decls:70,vars:15,consts:[[1,"search-filter-section"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Enter movie title",3,"formControl"],["matPrefix",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["multi","",1,"filter-accordion"],[1,"filters-container"],[1,"filter-row"],[1,"filter-group"],[1,"filter-label"],["appearance","outline"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"formControl"],[3,"value"],[1,"filter-actions"],["mat-stroked-button","","color","primary",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),s(4,"Search movies"),o(),b(5,"input",3),a(6,"mat-icon",4),s(7,"search"),o(),p(8,mn,3,0,"button",5),o()(),a(9,"mat-accordion",6)(10,"mat-expansion-panel")(11,"mat-expansion-panel-header")(12,"mat-panel-title")(13,"mat-icon"),s(14,"filter_list"),o(),s(15," Filter & Sort Options "),o()(),a(16,"div",7)(17,"div",8)(18,"div",9)(19,"label",10),s(20,"Genre"),o(),a(21,"mat-form-field",11)(22,"mat-label"),s(23,"Select genres"),o(),a(24,"mat-select",12),p(25,gn,2,2,"mat-option",13),o()()(),a(26,"div",9)(27,"label",10),s(28,"Duration"),o(),a(29,"mat-form-field",11)(30,"mat-label"),s(31,"Movie length"),o(),a(32,"mat-select",14)(33,"mat-option",15),s(34,"Any duration"),o(),p(35,fn,2,2,"mat-option",13),o()()(),a(36,"div",9)(37,"label",10),s(38,"Rating"),o(),a(39,"mat-form-field",11)(40,"mat-label"),s(41,"Age rating"),o(),a(42,"mat-select",14)(43,"mat-option",15),s(44,"Any rating"),o(),p(45,xn,2,2,"mat-option",13),o()()()(),a(46,"div",8)(47,"div",9)(48,"label",10),s(49,"Time Frame"),o(),a(50,"mat-form-field",11)(51,"mat-label"),s(52,"Showing"),o(),a(53,"mat-select",14)(54,"mat-option",15),s(55,"All screenings"),o(),p(56,un,2,2,"mat-option",13),o()()(),a(57,"div",9)(58,"label",10),s(59,"Sort By"),o(),a(60,"mat-form-field",11)(61,"mat-label"),s(62,"Sort movies"),o(),a(63,"mat-select",14),p(64,vn,2,2,"mat-option",13),o()()()(),a(65,"div",16)(66,"button",17),P("click",function(){return n.onResetFilters()}),a(67,"mat-icon"),s(68,"refresh"),o(),s(69," Reset Filters "),o()()()()()()),e&2&&(r(5),l("formControl",n.searchControl),r(3),l("ngIf",n.searchControl.value),r(16),l("formControl",n.genreControl),r(),l("ngForOf",n.filterOptions.genres),r(7),l("formControl",n.durationControl),r(),l("value",""),r(2),l("ngForOf",n.filterOptions.durations),r(7),l("formControl",n.ratingControl),r(),l("value",""),r(2),l("ngForOf",n.filterOptions.ratings),r(8),l("formControl",n.timeFrameControl),r(),l("value",""),r(2),l("ngForOf",n.filterOptions.timeFrames),r(7),l("formControl",n.sortControl),r(),l("ngForOf",n.filterOptions.sortOptions))},dependencies:[S,O,w,oe,it,ot,ae,at,It,Et,yt,bt,Ct,Mt,Ot,St,wt,Pt,$t,Vt,Se,Ee,Bt,I,E,nt,k,F],styles:[".search-filter-section[_ngcontent-%COMP%]{margin-bottom:30px}.search-container[_ngcontent-%COMP%]{margin-bottom:15px}.search-field[_ngcontent-%COMP%]{width:100%}.filter-accordion[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#35342e;border-radius:8px;overflow:hidden}.filters-container[_ngcontent-%COMP%]{padding:10px 0}.filter-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.filter-group[_ngcontent-%COMP%]{flex:1;min-width:200px}.filter-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#ffffffb3;font-size:14px}.filter-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}@media (max-width: 992px){.filter-row[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.filter-group[_ngcontent-%COMP%]{width:100%}}"]})};var le=t=>["/movies",t],hn=t=>["/reserve",t];function _n(t,i){if(t&1&&b(0,"img",20),t&2){let e=m();Ge("alt","",e.movie.title," poster"),l("src",e.movie.posterUrl,Be)}}function bn(t,i){t&1&&(a(0,"div",21)(1,"mat-icon"),s(2,"movie"),o()())}function Cn(t,i){if(t&1&&(a(0,"div",22)(1,"span",23),s(2),o(),a(3,"span",24),s(4,"Next Show"),o()()),t&2){let e=m();r(2),M(e.movie.nextScreening.formattedTime)}}function Mn(t,i){if(t&1&&(a(0,"p",25),s(1),_e(2,"slice"),o()),t&2){let e=m();r(),he(" ",be(2,2,e.movie.description,0,150),"",e.movie.description.length>150?"...":""," ")}}function yn(t,i){if(t&1&&(a(0,"div",26)(1,"span",27)(2,"strong"),s(3,"Director:"),o(),s(4),o()()),t&2){let e=m();r(4),v(" ",e.movie.director,"")}}function Pn(t,i){if(t&1&&(a(0,"div",26)(1,"span",28)(2,"strong"),s(3,"Cast:"),o(),s(4),_e(5,"slice"),o()()),t&2){let e=m();r(4),he(" ",be(5,2,e.movie.actors,0,80),"",e.movie.actors.length>80?"...":"","")}}function On(t,i){if(t&1&&(a(0,"mat-card-subtitle",29)(1,"mat-icon"),s(2,"event_available"),o(),s(3),o()),t&2){let e=m();r(3),v(" Next: ",e.formatDate(e.movie.nextScreening.date)," ")}}function wn(t,i){if(t&1&&(a(0,"div",30)(1,"mat-icon"),s(2,"schedule"),o(),a(3,"span"),s(4),o()()),t&2){let e=m();r(4),v("",e.movie.durationMinutes," min")}}function Sn(t,i){if(t&1&&(a(0,"div",30)(1,"mat-icon"),s(2,"movie_filter"),o(),a(3,"span"),s(4),o()()),t&2){let e=m();r(4),M(e.movie.rating)}}function En(t,i){if(t&1&&(a(0,"div",30)(1,"mat-icon"),s(2,"star"),o(),a(3,"span"),s(4),o()()),t&2){let e=m();r(4),v("",e.movie.voteAverage,"/10")}}function In(t,i){if(t&1&&(a(0,"mat-chip"),s(1),o()),t&2){let e=i.$implicit;r(),v(" ",e.name," ")}}function Fn(t,i){if(t&1&&(a(0,"div",31)(1,"mat-chip-set"),p(2,In,2,1,"mat-chip",32),o()()),t&2){let e=m();r(2),l("ngForOf",e.movie.genres.slice(0,3))}}function kn(t,i){if(t&1&&(a(0,"button",33)(1,"mat-icon"),s(2,"event_seat"),o(),s(3," Reserve "),o()),t&2){let e=m();l("routerLink",y(1,hn,e.movie.nextScreening.screeningId))}}var de=class t{movie;formatDate(i){return new Intl.DateTimeFormat("es-ES",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}).format(new Date(i))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:35,vars:26,consts:[[1,"movie-card"],[1,"movie-poster",3,"routerLink"],[3,"src","alt",4,"ngIf"],["class","no-poster",4,"ngIf"],["class","next-screening-badge",4,"ngIf"],[1,"movie-preview-overlay"],[1,"preview-content"],[1,"preview-title"],[1,"preview-info"],["class","preview-synopsis",4,"ngIf"],["class","preview-meta",4,"ngIf"],[1,"preview-actions"],["mat-stroked-button","","color","primary",3,"routerLink"],[1,"movie-content"],[3,"routerLink"],["class","next-screening-subtitle",4,"ngIf"],[1,"movie-meta-container"],["class","movie-meta",4,"ngIf"],["class","movie-genres-container",4,"ngIf"],["mat-raised-button","","color","accent","class","reserve-btn",3,"routerLink",4,"ngIf"],[3,"src","alt"],[1,"no-poster"],[1,"next-screening-badge"],[1,"next-time"],[1,"next-label"],[1,"preview-synopsis"],[1,"preview-meta"],[1,"preview-director"],[1,"preview-cast"],[1,"next-screening-subtitle"],[1,"movie-meta"],[1,"movie-genres-container"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",1,"reserve-btn",3,"routerLink"]],template:function(e,n){e&1&&(a(0,"mat-card",0)(1,"div",1),p(2,_n,1,3,"img",2)(3,bn,3,0,"div",3)(4,Cn,5,1,"div",4),a(5,"div",5)(6,"div",6)(7,"h3",7),s(8),o(),a(9,"div",8),p(10,Mn,3,6,"p",9)(11,yn,5,1,"div",10)(12,Pn,6,6,"div",10),o(),a(13,"div",11)(14,"button",12)(15,"mat-icon"),s(16,"info"),o(),s(17," Full Details "),o()()()()(),a(18,"div",13)(19,"mat-card-header")(20,"mat-card-title",14),s(21),o(),p(22,On,4,1,"mat-card-subtitle",15),o(),a(23,"mat-card-content")(24,"div",16),p(25,wn,5,1,"div",17)(26,Sn,5,1,"div",17)(27,En,5,1,"div",17),o(),p(28,Fn,3,1,"div",18),o(),a(29,"mat-card-actions")(30,"button",12)(31,"mat-icon"),s(32,"calendar_today"),o(),s(33,"Dates "),o(),p(34,kn,4,3,"button",19),o()()()),e&2&&(r(),l("routerLink",y(18,le,n.movie.id)),r(),l("ngIf",n.movie.posterUrl),r(),l("ngIf",!n.movie.posterUrl),r(),l("ngIf",n.movie.nextScreening),r(4),M(n.movie.title),r(2),l("ngIf",n.movie.description),r(),l("ngIf",n.movie.director),r(),l("ngIf",n.movie.actors),r(2),l("routerLink",y(20,le,n.movie.id)),r(6),l("routerLink",y(22,le,n.movie.id)),r(),M(n.movie.title),r(),l("ngIf",n.movie.nextScreening),r(3),l("ngIf",n.movie.durationMinutes),r(),l("ngIf",n.movie.rating),r(),l("ngIf",n.movie.voteAverage),r(),l("ngIf",n.movie.genres&&n.movie.genres.length>0),r(2),l("routerLink",y(24,le,n.movie.id)),r(4),l("ngIf",n.movie.nextScreening))},dependencies:[S,O,w,Ze,ne,xt,dt,gt,ct,ft,mt,pt,I,E,k,F,At,Tt,Dt],styles:[".movie-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;background-color:#35342e;color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 8px 16px #0000004d;transition:transform .3s,box-shadow .3s;max-width:100%}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 14px 28px #00000080}.movie-poster[_ngcontent-%COMP%]{height:380px;overflow:hidden;position:relative;cursor:pointer}.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s}.movie-card[_ngcontent-%COMP%]:hover   .movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.next-screening-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background-color:#ff6b6b;color:#fff;padding:6px 10px;border-radius:20px;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0000004d;z-index:2}.next-time[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.next-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.5px}.movie-preview-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#202020eb;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;z-index:3;padding:20px}.movie-poster[_ngcontent-%COMP%]:hover   .movie-preview-overlay[_ngcontent-%COMP%]{opacity:1;visibility:visible}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;max-width:100%;overflow:auto;max-height:100%}.preview-title[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:700;margin:0}.preview-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.preview-synopsis[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:0;line-height:1.5}.preview-meta[_ngcontent-%COMP%]{color:#fffc;font-size:13px}.preview-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:center}.no-poster[_ngcontent-%COMP%]{height:100%;background-color:#2a2a25;display:flex;align-items:center;justify-content:center}.no-poster[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ffffff4d}.movie-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:0}mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 8px}mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;cursor:pointer;transition:color .2s}mat-card-title[_ngcontent-%COMP%]:hover{color:#ff6b6b}.next-screening-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#fffc;margin-top:8px}.next-screening-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b;font-size:16px;height:16px;width:16px}mat-card-content[_ngcontent-%COMP%]{padding:0 16px;flex:1}.movie-meta-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:12px}.movie-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:#fffc;font-size:14px}.movie-meta[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b;font-size:18px;height:18px;width:18px}.movie-genres-container[_ngcontent-%COMP%]{margin-bottom:8px}mat-card-actions[_ngcontent-%COMP%]{padding:8px 16px 16px;display:flex;justify-content:space-between;gap:10px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}mat-card-actions[_ngcontent-%COMP%]   button.mat-accent[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}button.reserve-btn[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}button.reserve-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 992px){.movie-poster[_ngcontent-%COMP%]{height:320px}}@media (max-width: 768px){.movie-poster[_ngcontent-%COMP%]{height:280px}mat-card-title[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 576px){.movie-card[_ngcontent-%COMP%]{flex-direction:row;height:180px;width:100%;max-width:100%;margin:0}.movie-poster[_ngcontent-%COMP%]{height:180px;width:110px;flex-shrink:0}.movie-content[_ngcontent-%COMP%]{width:calc(100% - 110px);overflow:hidden;padding-right:5px}.movie-genres-container[_ngcontent-%COMP%]{display:none}.next-screening-badge[_ngcontent-%COMP%]{top:5px;right:5px;padding:3px 6px}.next-time[_ngcontent-%COMP%]{font-size:12px}.next-label[_ngcontent-%COMP%]{font-size:9px}mat-card-header[_ngcontent-%COMP%]{padding:12px 10px 6px}mat-card-content[_ngcontent-%COMP%]{padding:0 10px}mat-card-actions[_ngcontent-%COMP%]{padding:6px 10px 10px}.movie-meta-container[_ngcontent-%COMP%]{gap:10px;margin-bottom:8px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 6px;min-width:64px;font-size:13px;line-height:32px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:16px;height:16px;width:16px}}@media (max-width: 400px){.movie-card[_ngcontent-%COMP%]{height:160px}.movie-poster[_ngcontent-%COMP%]{height:160px;width:100px}.movie-content[_ngcontent-%COMP%]{width:calc(100% - 100px)}mat-card-title[_ngcontent-%COMP%]{font-size:14px}.next-screening-subtitle[_ngcontent-%COMP%]{font-size:12px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 4px;font-size:12px;min-width:60px;line-height:30px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:2px;font-size:14px;height:14px;width:14px}.movie-meta[_ngcontent-%COMP%]{font-size:12px}.movie-meta[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}}"]})};function Tn(t,i){if(t&1&&b(0,"app-trending-movies",9),t&2){let e=m();l("movies",e.trendingMovies)}}function Dn(t,i){t&1&&(a(0,"div",10),b(1,"mat-spinner"),o())}function An(t,i){if(t&1){let e=ee();a(0,"div",11)(1,"p")(2,"mat-icon"),s(3,"movie_filter"),o(),s(4," No movies found matching your criteria. Try adjusting your filters. "),o(),a(5,"button",12),P("click",function(){q(e);let d=m();return Z(d.resetFilters())}),s(6," Reset All Filters "),o()()}}function zn(t,i){if(t&1&&(a(0,"div",16),b(1,"app-movie-card",17),o()),t&2){let e=i.$implicit;r(),l("movie",e)}}function Nn(t,i){if(t&1&&(a(0,"div",13)(1,"div",14),p(2,zn,2,1,"div",15),o()()),t&2){let e=m();r(2),l("ngForOf",e.filteredMovies)}}var Wt=class t{constructor(i,e,n){this.movieService=i;this.screeningService=e;this.snackBar=n}movies=[];filteredMovies=[];trendingMovies=[];loading=!0;movieCategories=[];searchControl=new N("");genreControl=new N([]);durationControl=new N("");ratingControl=new N("");timeFrameControl=new N("");sortControl=new N("title-asc");filterOptions={genres:[],durations:[{value:"short",label:"Short (< 90 min)",min:0,max:90},{value:"medium",label:"Medium (90-120 min)",min:90,max:120},{value:"long",label:"Long (> 120 min)",min:120,max:999}],ratings:["G","PG","PG-13","R"],timeFrames:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"all",label:"All Screenings"}],sortOptions:[{value:"title-asc",label:"Title (A-Z)"},{value:"title-desc",label:"Title (Z-A)"},{value:"rating",label:"Rating (Highest)"},{value:"nextScreening",label:"Next Screening"}]};destroy$=new T;ngOnInit(){this.loadGenres(),this.loadMovies(),this.setupFilterSubscriptions(),this.loadTrendingMovies()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadGenres(){this.movieService.getAllGenres().pipe(h(this.destroy$)).subscribe({next:i=>{this.filterOptions.genres=i},error:i=>{console.error("Error loading genres:",i),this.showErrorMessage("Failed to load movie genres"),this.filterOptions.genres=["Action","Comedy","Drama","Horror","Sci-Fi","Thriller"]}})}loadTrendingMovies(){this.movieService.getMoviesWithFutureScreenings().pipe(h(this.destroy$),Fe(i=>[...i].sort((n,d)=>(d.voteAverage||0)-(n.voteAverage||0)).slice(0,5).map(n=>ce(pe({},n),{nextScreening:{screeningId:Math.floor(Math.random()*1e3),date:new Date(Date.now()+Math.floor(Math.random()*7*24*60*60*1e3)),formattedTime:this.getRandomTime()}})))).subscribe({next:i=>{this.trendingMovies=i},error:i=>{console.error("Error loading trending movies:",i),this.trendingMovies=[]}})}loadMovies(){this.loading=!0,this.movieService.getFilteredMoviesWithFutureScreenings(this.searchControl.value||void 0,this.genreControl.value?.length?this.genreControl.value:void 0,this.durationControl.value||void 0,this.ratingControl.value||void 0,this.timeFrameControl.value||void 0,this.sortControl.value||void 0).pipe(h(this.destroy$)).subscribe({next:i=>{this.movies=i,this.filteredMovies=i,this.loading=!1},error:i=>{console.error("Error loading movies:",i),this.showErrorMessage("Failed to load movies. Using fallback data."),this.loading=!1,this.loadFallbackMovies()}})}loadFallbackMovies(){this.movieService.getMoviesWithFutureScreenings().pipe(h(this.destroy$)).subscribe({next:i=>{this.movies=i.map(e=>ce(pe({},e),{actors:"Cast information not available",nextScreening:Math.random()>.3?{screeningId:Math.floor(Math.random()*1e3),date:new Date(Date.now()+Math.floor(Math.random()*7*24*60*60*1e3)),formattedTime:this.getRandomTime()}:void 0})),this.applyClientSideFilters()},error:i=>{console.error("Even fallback method failed:",i),this.filteredMovies=[],this.loading=!1}})}applyClientSideFilters(){let i=[...this.movies],e=this.searchControl.value?.toLowerCase().trim();e&&(i=i.filter(g=>g.title.toLowerCase().includes(e)));let n=this.genreControl.value;n&&n.length>0&&(i=i.filter(g=>g.genres&&g.genres.some(x=>n.includes(x.name))));let d=this.durationControl.value;if(d){let g=this.filterOptions.durations.find(x=>x.value===d);g&&(i=i.filter(x=>x.durationMinutes&&x.durationMinutes>=g.min&&x.durationMinutes<=g.max))}let u=this.ratingControl.value;u&&(i=i.filter(g=>g.rating===u));let f=this.sortControl.value;if(f)switch(f){case"title-asc":i.sort((g,x)=>g.title.localeCompare(x.title));break;case"title-desc":i.sort((g,x)=>x.title.localeCompare(g.title));break;case"rating":i.sort((g,x)=>(x.voteAverage||0)-(g.voteAverage||0));break;case"nextScreening":i.sort((g,x)=>g.nextScreening?x.nextScreening?g.nextScreening.date.getTime()-x.nextScreening.date.getTime():-1:1);break}this.filteredMovies=i,this.loading=!1}getRandomTime(){let i=String(Math.floor(Math.random()*24)).padStart(2,"0"),e=["00","15","30","45"][Math.floor(Math.random()*4)];return`${i}:${e}`}setupFilterSubscriptions(){this.searchControl.valueChanges.pipe(Te(300),Ae(),h(this.destroy$)).subscribe(()=>this.loadMovies()),this.genreControl.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.loadMovies()),this.durationControl.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.loadMovies()),this.ratingControl.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.loadMovies()),this.timeFrameControl.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.loadMovies()),this.sortControl.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.loadMovies())}resetFilters(){this.searchControl.setValue(""),this.genreControl.setValue([]),this.durationControl.setValue(""),this.ratingControl.setValue(""),this.timeFrameControl.setValue(""),this.sortControl.setValue("title-asc")}formatDate(i){return i?new Date(i).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):""}getGenresList(i){return!i.genres||i.genres.length===0?"No genres":i.genres.map(e=>e.name).join(", ")}showErrorMessage(i){this.snackBar.open(i,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}static \u0275fac=function(e){return new(e||t)(K(kt),K(Ft),K(ht))};static \u0275cmp=_({type:t,selectors:[["app-public-movie-list"]],decls:11,vars:11,consts:[[1,"movie-list-page"],[1,"movie-list-container"],[1,"page-header"],[1,"page-title"],[3,"movies",4,"ngIf"],[3,"resetFilters","filterOptions","searchControl","genreControl","durationControl","ratingControl","timeFrameControl","sortControl"],["class","loading-spinner",4,"ngIf"],["class","no-movies",4,"ngIf"],["class","movies-grid-section",4,"ngIf"],[3,"movies"],[1,"loading-spinner"],[1,"no-movies"],["mat-raised-button","","color","accent",3,"click"],[1,"movies-grid-section"],[1,"movies-grid"],["class","movie-card-container",4,"ngFor","ngForOf"],[1,"movie-card-container"],[3,"movie"]],template:function(e,n){e&1&&(a(0,"div",0),b(1,"app-navbar"),a(2,"div",1)(3,"div",2)(4,"h1",3),s(5,"Movies & Showtimes"),o()(),p(6,Tn,1,1,"app-trending-movies",4),a(7,"app-movie-filters",5),P("resetFilters",function(){return n.resetFilters()}),o(),p(8,Dn,2,0,"div",6)(9,An,7,0,"div",7)(10,Nn,3,1,"div",8),o()()),e&2&&(r(6),l("ngIf",!n.loading),r(),l("filterOptions",n.filterOptions)("searchControl",n.searchControl)("genreControl",n.genreControl)("durationControl",n.durationControl)("ratingControl",n.ratingControl)("timeFrameControl",n.timeFrameControl)("sortControl",n.sortControl),r(),l("ngIf",n.loading),r(),l("ngIf",!n.loading&&n.filteredMovies.length===0),r(),l("ngIf",!n.loading&&n.filteredMovies.length>0))},dependencies:[S,O,w,oe,ae,I,E,k,F,vt,ut,_t,zt,re,se,de],styles:['.movie-list-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#3c3b34;color:#fff;width:100%;overflow-x:hidden}.movie-list-container[_ngcontent-%COMP%]{padding:20px 10px;max-width:1600px;margin:0 auto;flex:1;width:95%;box-sizing:border-box}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-title[_ngcontent-%COMP%]{margin-top:30px;font-size:32px;font-weight:700;margin-bottom:10px;color:#fff;border-left:4px solid #ff6b6b;padding-left:15px}.movies-grid-section[_ngcontent-%COMP%]{margin-top:30px}.section-title[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:20px;font-size:24px;font-weight:600;position:relative;padding-left:15px;color:#fff}.section-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:5px;background-color:#ff6b6b;border-radius:3px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px 0}.no-movies[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#35342e;border-radius:12px;color:#fffc;display:flex;flex-direction:column;align-items:center;gap:20px;box-shadow:0 4px 12px #0003}.no-movies[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;font-size:18px}.no-movies[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ffffff80}.movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;width:100%}.movie-card-container[_ngcontent-%COMP%]{display:flex;width:100%}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 14px 28px #00000080}.movie-poster[_ngcontent-%COMP%]{height:380px;overflow:hidden;position:relative;cursor:pointer}.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s}.movie-card[_ngcontent-%COMP%]:hover   .movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.next-screening-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background-color:#ff6b6b;color:#fff;padding:6px 10px;border-radius:20px;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0000004d;z-index:2}.next-time[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.next-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.5px}.movie-preview-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#202020eb;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;z-index:3;padding:20px}.movie-poster[_ngcontent-%COMP%]:hover   .movie-preview-overlay[_ngcontent-%COMP%]{opacity:1;visibility:visible}.preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;max-width:100%;overflow:auto;max-height:100%}.preview-title[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:700;margin:0}.preview-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.preview-synopsis[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:0;line-height:1.5}.preview-meta[_ngcontent-%COMP%]{color:#fffc;font-size:13px}.preview-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:center}.no-poster[_ngcontent-%COMP%]{height:100%;background-color:#2a2a25;display:flex;align-items:center;justify-content:center}.no-poster[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ffffff4d}.movie-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:0}mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 8px}mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;cursor:pointer;transition:color .2s}mat-card-title[_ngcontent-%COMP%]:hover{color:#ff6b6b}.next-screening-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#fffc;margin-top:8px}.next-screening-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b;font-size:16px;height:16px;width:16px}mat-card-content[_ngcontent-%COMP%]{padding:0 16px;flex:1}.movie-meta-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:12px}.movie-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:#fffc;font-size:14px}.movie-meta[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b;font-size:18px;height:18px;width:18px}.movie-genres-container[_ngcontent-%COMP%]{margin-bottom:8px}mat-card-actions[_ngcontent-%COMP%]{padding:8px 16px 16px;display:flex;justify-content:space-between;gap:10px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}mat-card-actions[_ngcontent-%COMP%]   button.mat-accent[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}button.reserve-btn[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}button.reserve-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 992px){.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}}@media (max-width: 768px){.movie-list-container[_ngcontent-%COMP%]{padding:15px 5px;width:98%}.page-title[_ngcontent-%COMP%]{font-size:28px}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}}@media (max-width: 576px){.movie-list-container[_ngcontent-%COMP%]{width:100%;padding:10px 5px;box-sizing:border-box}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px;width:100%;padding:0}}']})};export{Wt as PublicMovieListComponent};
