import{a as at}from"./chunk-FS7CAOYN.js";import"./chunk-MS4AQ6UA.js";import{b as N}from"./chunk-HGZD7DPT.js";import{a as it}from"./chunk-GQ3V7OEZ.js";import{b as ot}from"./chunk-L5SE3N4L.js";import"./chunk-4XF4NGEO.js";import"./chunk-WOS266EE.js";import{b as X}from"./chunk-JQMIOQDN.js";import{d as rt,e as nt}from"./chunk-A5FMPQVA.js";import{b as J,c as K}from"./chunk-BAFH5YR6.js";import{D as tt,E as et,c as T,e as s,g as B,h as j,k as A,l as D,n as G,o as L,p as q,q as V,s as z,u as $,v as Q,w as W,x as Z}from"./chunk-XZSR4YHY.js";import"./chunk-ROUTVLYY.js";import{o as O,s as E}from"./chunk-A4IL2YBM.js";import{a as Y,c as H,g as U}from"./chunk-PQBGQV3H.js";import{e as S,f as y,ga as R,ha as I,l as k,x as F,y as P}from"./chunk-DWWDMUIZ.js";import{Db as l,Fb as M,Mb as t,Nb as e,Ob as b,Wb as x,fb as m,gc as o,hc as w,ic as v,kb as u,rb as C,wb as g}from"./chunk-HQVUQXPE.js";function lt(n,a){n&1&&(t(0,"mat-error"),o(1," Number of rows is required "),e())}function dt(n,a){n&1&&(t(0,"mat-error"),o(1," Number of rows must be at least 1 "),e())}function ct(n,a){n&1&&(t(0,"mat-error"),o(1," Number of rows cannot exceed 50 "),e())}function st(n,a){n&1&&(t(0,"mat-error"),o(1," Number of columns is required "),e())}function pt(n,a){n&1&&(t(0,"mat-error"),o(1," Number of columns must be at least 1 "),e())}function ft(n,a){n&1&&(t(0,"mat-error"),o(1," Number of columns cannot exceed 50 "),e())}function ut(n,a){if(n&1&&(t(0,"div",31),o(1),e()),n&2){let i=a.$implicit;M("aisle-right",i.isAisleRight)("aisle-left",i.isAisleLeft),m(),v(" ",i.number," ")}}function gt(n,a){if(n&1&&(t(0,"div",27)(1,"div",28),o(2),e(),t(3,"div",29),g(4,ut,2,5,"div",30),e()()),n&2){let i=a.$implicit;m(2),w(i[0]==null?null:i[0].row),m(2),l("ngForOf",i)}}var mt=class n{constructor(a,i,r,d){this.fb=a;this.roomService=i;this.router=r;this.snackBar=d;this.roomForm=this.createForm(),this.updateCapacity()}roomForm;saving=!1;capacity=0;previewSeats=[];gridTemplateColumns="";createForm(){return this.fb.group({rows:[10,[s.required,s.min(1),s.max(50)]],columns:[10,[s.required,s.min(1),s.max(50)]]})}updateCapacity(){let a=this.roomForm.get("rows")?.value||0,i=this.roomForm.get("columns")?.value||0;this.capacity=a*i,this.updatePreview()}updatePreview(){let a=this.roomForm.get("rows")?.value||0,i=this.roomForm.get("columns")?.value||0;this.previewSeats=[];for(let r=0;r<a;r++){let d=String.fromCharCode(65+r),p=[];for(let c=0;c<i;c++){let f=c+1,_=(c+1)%4===0&&c<i-1,h=c%4===0&&c>0;p.push({row:d,number:f,label:`${d}${f}`,isAisleRight:_,isAisleLeft:h})}this.previewSeats.push(p)}}resetForm(){this.roomForm.reset({rows:10,columns:10}),this.updateCapacity()}onSubmit(){if(this.roomForm.invalid)return;this.saving=!0;let a=this.roomForm.value;this.roomService.createRoom(a).subscribe({next:()=>{this.snackBar.open("Room created successfully","Close",{duration:3e3}),this.router.navigate(["/admin/rooms"])},error:i=>{this.snackBar.open("Error creating room: "+i.message,"Close",{duration:5e3}),this.saving=!1}})}static \u0275fac=function(i){return new(i||n)(u(z),u(it),u(F),u(J))};static \u0275cmp=C({type:n,selectors:[["app-room-create"]],decls:63,vars:12,consts:[[1,"screening-management-container"],[1,"dashboard-title-container"],[1,"dashboard-title-marker"],[1,"dashboard-title"],[1,"action-bar"],["mat-raised-button","","routerLink","/admin/rooms",1,"back-button"],[1,"table-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"form-field"],["matInput","","type","number","formControlName","rows","min","1","max","50",3,"input"],[4,"ngIf"],["matInput","","type","number","formControlName","columns","min","1","max","50",3,"input"],[1,"capacity-display"],[1,"room-preview"],[1,"screen-container"],[1,"screen"],[1,"screen-text"],[1,"seats-container"],["class","row",4,"ngFor","ngForOf"],[1,"seat-legend"],[1,"legend-item"],[1,"seat-sample","regular"],[1,"seat-sample","aisle"],[1,"form-actions"],["mat-raised-button","","type","submit",1,"accent-bg",3,"disabled"],["mat-raised-button","","type","button",3,"click","disabled"],[1,"row"],[1,"row-label"],[1,"seats-row"],["class","seat",3,"aisle-right","aisle-left",4,"ngFor","ngForOf"],[1,"seat"]],template:function(i,r){if(i&1&&(t(0,"div",0)(1,"div",1),b(2,"div",2),t(3,"h1",3),o(4,"Create New Room"),e()(),t(5,"div",4),b(6,"div"),t(7,"button",5)(8,"mat-icon"),o(9,"arrow_back"),e(),o(10," Back to List "),e()(),t(11,"mat-card",6)(12,"mat-card-content")(13,"form",7),x("ngSubmit",function(){return r.onSubmit()}),t(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),o(17,"Rows"),e(),t(18,"input",10),x("input",function(){return r.updateCapacity()}),e(),t(19,"mat-hint"),o(20,"Number of rows (1-50)"),e(),g(21,lt,2,0,"mat-error",11)(22,dt,2,0,"mat-error",11)(23,ct,2,0,"mat-error",11),e(),t(24,"mat-form-field",9)(25,"mat-label"),o(26,"Columns"),e(),t(27,"input",12),x("input",function(){return r.updateCapacity()}),e(),t(28,"mat-hint"),o(29,"Number of columns (1-50)"),e(),g(30,st,2,0,"mat-error",11)(31,pt,2,0,"mat-error",11)(32,ft,2,0,"mat-error",11),e()(),t(33,"div",13)(34,"h3"),o(35),e()(),t(36,"div",14)(37,"h3"),o(38,"Room Preview"),e(),t(39,"div",15)(40,"div",16)(41,"div",17),o(42,"SCREEN"),e()()(),t(43,"div",18),g(44,gt,5,2,"div",19),e(),t(45,"div",20)(46,"div",21),b(47,"div",22),t(48,"span"),o(49,"Regular seat"),e()(),t(50,"div",21),b(51,"div",23),t(52,"span"),o(53,"Aisle seat"),e()()()(),t(54,"div",24)(55,"button",25)(56,"mat-icon"),o(57,"save"),e(),o(58),e(),t(59,"button",26),x("click",function(){return r.resetForm()}),t(60,"mat-icon"),o(61,"refresh"),e(),o(62," Reset "),e()()()()()()),i&2){let d,p,c,f,_,h;m(13),l("formGroup",r.roomForm),m(8),l("ngIf",(d=r.roomForm.get("rows"))==null?null:d.hasError("required")),m(),l("ngIf",(p=r.roomForm.get("rows"))==null?null:p.hasError("min")),m(),l("ngIf",(c=r.roomForm.get("rows"))==null?null:c.hasError("max")),m(7),l("ngIf",(f=r.roomForm.get("columns"))==null?null:f.hasError("required")),m(),l("ngIf",(_=r.roomForm.get("columns"))==null?null:_.hasError("min")),m(),l("ngIf",(h=r.roomForm.get("columns"))==null?null:h.hasError("max")),m(3),v("Total capacity: ",r.capacity," seats"),m(9),l("ngForOf",r.previewSeats),m(11),l("disabled",r.roomForm.invalid||r.saving),m(3),v(" ",r.saving?"Saving...":"Save Room"," "),m(),l("disabled",r.saving)}},dependencies:[k,S,y,P,$,A,T,D,B,j,V,q,G,L,U,Y,H,E,O,I,R,X,K,nt,rt,tt,Q,Z,W,et,ot,at,N],styles:['@charset "UTF-8";.screening-management-container[_ngcontent-%COMP%]{padding:20px}.dashboard-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.dashboard-title-marker[_ngcontent-%COMP%]{width:5px;height:30px;background-color:#ff6b6b;margin-right:10px;border-radius:3px}.dashboard-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin:0}.action-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px;gap:10px}.back-button[_ngcontent-%COMP%]{background-color:#444!important;color:#fff!important;transition:background-color .3s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#555!important}.table-card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px}.form-field[_ngcontent-%COMP%]{flex:1}.capacity-display[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background-color:#222;border-radius:4px;text-align:center;border:1px solid #3a3a3a}.capacity-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#ff6b6b}.room-preview[_ngcontent-%COMP%]{margin:20px 0;padding:20px;border-radius:8px;background-color:#1a1a1a;box-shadow:0 4px 12px #0000004d}.screen-container[_ngcontent-%COMP%]{margin:0 0 40px;position:relative;perspective:500px}.screen[_ngcontent-%COMP%]{width:90%;height:50px;background:linear-gradient(180deg,#333,#222);margin:0 auto;border-radius:4px 4px 0 0;display:flex;justify-content:center;align-items:center;position:relative;transform:rotateX(-20deg);border-bottom:2px solid #ff6b6b;box-shadow:0 6px 20px #0006}.screen[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-15px;left:0;right:0;height:15px;background:linear-gradient(to bottom,rgba(255,107,107,.2),transparent)}.screen-text[_ngcontent-%COMP%]{color:#fffc;font-weight:500;letter-spacing:3px;text-transform:uppercase;font-size:14px}.seats-container[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow-y:auto;padding:20px 0;background-color:#222;border-radius:8px;box-shadow:inset 0 0 10px #00000080;display:flex;flex-direction:column;gap:8px;align-items:center}.row[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;justify-content:center;gap:10px}.row-label[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;background-color:#ff6b6b33;color:#fff;border-radius:50%;font-weight:700;font-size:14px}.seats-row[_ngcontent-%COMP%]{display:flex;gap:8px}.seat[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#444;border-radius:4px 4px 10px 10px;text-align:center;line-height:30px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s ease;color:#fff;border-bottom:4px solid #333333;-webkit-user-select:none;user-select:none;box-shadow:0 2px 4px #0000004d}.seat[_ngcontent-%COMP%]:hover{background-color:#ff6b6b;border-bottom-color:#e55a5a;transform:translateY(-2px)}.aisle-right[_ngcontent-%COMP%]{margin-right:12px;background-color:#555;border-bottom-color:#444}.aisle-left[_ngcontent-%COMP%]{margin-left:12px;background-color:#555;border-bottom-color:#444}.seat-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:30px;margin:20px 0 10px;padding:12px;background-color:#2a2a2a;border-radius:4px;border:1px solid #333333}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff}.seat-sample[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px 4px 8px 8px;box-shadow:0 2px 4px #0003}.seat-sample.regular[_ngcontent-%COMP%]{background-color:#444;border-bottom:3px solid #333333}.seat-sample.aisle[_ngcontent-%COMP%]{background-color:#555;border-bottom:3px solid #444444}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.create-room-btn[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important;font-weight:500;letter-spacing:.5px;padding:8px 16px;box-shadow:0 2px 5px #0000004d;transition:all .2s ease}.create-room-btn[_ngcontent-%COMP%]:hover{background-color:#ff7c7c!important;box-shadow:0 4px 8px #0006;transform:translateY(-2px)}.create-room-btn[_ngcontent-%COMP%]:disabled{background-color:#ff6b6b80!important;color:#ffffffb3!important;box-shadow:none;transform:none}.create-room-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff!important;margin-right:8px}  .mat-mdc-card{background-color:#222!important;color:#fff!important}  .mat-mdc-form-field-label{color:#fff9!important}  .mat-mdc-input-element{color:#fff!important}  .mat-mdc-select-value,   .mat-mdc-select-arrow{color:#fff!important}  .mat-mdc-card-content{color:#fff!important}  .mat-mdc-form-field-hint{color:#fff9!important}  .mat-mdc-form-field-error{color:#f44336!important}  .mat-mdc-button,   .mat-mdc-raised-button,   .mat-mdc-outlined-button{color:#fff!important}  .mat-mdc-button .mat-icon,   .mat-mdc-raised-button .mat-icon,   .mat-mdc-outlined-button .mat-icon{color:#fff!important}  .mat-mdc-text-field-wrapper{background-color:#222!important}  .mat-mdc-form-field-focus-overlay{background-color:#303030!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#222!important}  .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,   .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,   .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#ffffff4d!important}  .mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,   .mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,   .mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#ff6b6b!important}']})};export{mt as RoomCreateComponent};
