import{a as ut}from"./chunk-GQ3V7OEZ.js";import"./chunk-F5X5MWHG.js";import{c as ft,d as st}from"./chunk-G7JMWQMS.js";import{a as Z,b as tt,c as et,d as lt,e as ct}from"./chunk-QQUR4AHN.js";import{a as j,b as A,c as z,d as q,e as G,f as J,g as K,h as Q,i as U,j as W,k as X,l as Y,n as rt,o as mt}from"./chunk-STVDQ4GN.js";import"./chunk-L5SE3N4L.js";import"./chunk-4XF4NGEO.js";import"./chunk-WOS266EE.js";import{a as H,b as N}from"./chunk-JQMIOQDN.js";import{d as dt,e as pt}from"./chunk-A5FMPQVA.js";import{b as V,c as $}from"./chunk-BAFH5YR6.js";import{D as at,E as it,t as P,v as ot,z as nt}from"./chunk-XZSR4YHY.js";import"./chunk-ROUTVLYY.js";import{m as k,o as E,s as T}from"./chunk-A4IL2YBM.js";import{a as B,c as L,g as F}from"./chunk-PQBGQV3H.js";import{f as y,ga as I,ha as O,l as w,y as D}from"./chunk-DWWDMUIZ.js";import{Db as l,Mb as a,Nb as n,Ob as d,Pb as p,Qb as f,Sb as h,Wb as M,Xb as u,fb as r,fc as R,gc as i,ic as s,kb as g,pc as S,qa as C,ra as x,rb as v,wb as m}from"./chunk-HQVUQXPE.js";var gt=()=>[5,10,25,100];function Mt(t,e){t&1&&(a(0,"div",13),d(1,"mat-spinner",14),n())}function bt(t,e){t&1&&(a(0,"th",32),i(1,"ID"),n())}function Ct(t,e){if(t&1&&(a(0,"td",33),i(1),n()),t&2){let o=e.$implicit;r(),s(" ",o.id," ")}}function xt(t,e){t&1&&(a(0,"th",32),i(1,"Number"),n())}function ht(t,e){if(t&1&&(a(0,"td",33),i(1),n()),t&2){let o=e.$implicit;r(),s(" ",o.number," ")}}function vt(t,e){t&1&&(a(0,"th",32),i(1," Capacity "),n())}function Rt(t,e){if(t&1&&(a(0,"td",33),i(1),n()),t&2){let o=e.$implicit;r(),s("",o.capacity," seats")}}function St(t,e){t&1&&(a(0,"th",32),i(1,"Type"),n())}function yt(t,e){if(t&1&&(a(0,"td",33),i(1),n()),t&2){let o=e.$implicit;r(),s(" ",o.roomType||"Standard"," ")}}function wt(t,e){t&1&&(a(0,"th",34),i(1,"Actions"),n())}function Dt(t,e){if(t&1){let o=h();a(0,"td",33)(1,"button",35),M("click",function(){let _=C(o).$implicit,b=u(2);return x(b.confirmDelete(_))}),a(2,"mat-icon"),i(3,"delete"),n()()()}}function kt(t,e){t&1&&d(0,"tr",36)}function Et(t,e){t&1&&d(0,"tr",37)}function Tt(t,e){if(t&1&&(a(0,"tr",38)(1,"td",39),i(2),n()()),t&2){u();let o=R(5);r(2),s(' No rooms found matching "',o.value,'" ')}}function It(t,e){if(t&1){let o=h();a(0,"div")(1,"mat-form-field",15)(2,"mat-label"),i(3,"Filter Rooms"),n(),a(4,"input",16,0),M("keyup",function(_){C(o);let b=u();return x(b.applyFilter(_))}),n(),a(6,"mat-icon",17),i(7,"search"),n()(),a(8,"div",18)(9,"table",19),p(10,20),m(11,bt,2,0,"th",21)(12,Ct,2,1,"td",22),f(),p(13,23),m(14,xt,2,0,"th",21)(15,ht,2,1,"td",22),f(),p(16,24),m(17,vt,2,0,"th",21)(18,Rt,2,1,"td",22),f(),p(19,25),m(20,St,2,0,"th",21)(21,yt,2,1,"td",22),f(),p(22,26),m(23,wt,2,0,"th",27)(24,Dt,4,0,"td",22),f(),m(25,kt,1,0,"tr",28)(26,Et,1,0,"tr",29)(27,Tt,3,1,"tr",30),n(),d(28,"mat-paginator",31),n()()}if(t&2){let o=u();r(9),l("dataSource",o.dataSource),r(16),l("matHeaderRowDef",o.displayedColumns),r(),l("matRowDefColumns",o.displayedColumns),r(2),l("pageSizeOptions",S(4,gt))}}var _t=class t{constructor(e,o,c){this.roomService=e;this.snackBar=o;this.dialog=c}rooms=[];loading=!0;displayedColumns=["id","number","capacity","type","actions"];dataSource;ngOnInit(){this.loadRooms()}loadRooms(){this.loading=!0,this.roomService.getAllRoomsBasic().subscribe({next:e=>{this.rooms=e,this.dataSource=this.rooms,this.loading=!1},error:e=>{console.error("Error fetching rooms:",e),this.snackBar.open("Failed to load rooms. Please try again.","Close",{duration:3e3}),this.loading=!1}})}applyFilter(e){let o=e.target.value;this.dataSource.filter=o.trim().toLowerCase()}confirmDelete(e){confirm(`Are you sure you want to delete room ${e.number}?`)&&this.deleteRoom(e.id)}deleteRoom(e){this.roomService.deleteRoom(e).subscribe({next:()=>{this.snackBar.open("Room deleted successfully","Close",{duration:3e3}),this.loadRooms()},error:o=>{this.snackBar.open("Error deleting room: "+o.message,"Close",{duration:5e3})}})}confirmDeleteLastRoom(){confirm("Are you sure you want to delete the last created room?")&&this.deleteLastRoom()}deleteLastRoom(){this.roomService.deleteLastRoom().subscribe({next:e=>{this.snackBar.open(`Room ${e.number} deleted successfully`,"Close",{duration:3e3}),this.loadRooms()},error:e=>{this.snackBar.open("Error deleting last room: "+e.message,"Close",{duration:5e3})}})}static \u0275fac=function(o){return new(o||t)(g(ut),g(V),g(ft))};static \u0275cmp=v({type:t,selectors:[["app-room-management"]],decls:23,vars:2,consts:[["input",""],[1,"screening-management-container"],[1,"dashboard-title-container"],[1,"dashboard-title-marker"],[1,"dashboard-title"],[1,"action-bar"],[1,"action-buttons"],["mat-raised-button","","routerLink","/admin/rooms/create",1,"accent-bg"],["mat-raised-button","",1,"delete-button",3,"click"],["mat-raised-button","","routerLink","/admin/dashboard"],[1,"table-card"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"accent-spinner"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Number, type, etc.",3,"keyup"],["matSuffix",""],[1,"table-container"],["mat-table","","matSort","",1,"room-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","number"],["matColumnDef","capacity"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of rooms",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","matTooltip","Delete Room",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","5",1,"mat-cell"]],template:function(o,c){o&1&&(a(0,"div",1)(1,"div",2),d(2,"div",3),a(3,"h1",4),i(4,"Room Management"),n()(),a(5,"div",5)(6,"div",6)(7,"button",7)(8,"mat-icon"),i(9,"add"),n(),i(10," Add Room "),n(),a(11,"button",8),M("click",function(){return c.confirmDeleteLastRoom()}),a(12,"mat-icon"),i(13,"delete"),n(),i(14," Delete Last Room "),n()(),a(15,"button",9)(16,"mat-icon"),i(17,"arrow_back"),n(),i(18," Back to Dashboard "),n()(),a(19,"mat-card",10)(20,"mat-card-content"),m(21,Mt,2,0,"div",11)(22,It,29,5,"div",12),n()()()),o&2&&(r(21),l("ngIf",c.loading),r(),l("ngIf",!c.loading))},dependencies:[w,y,D,F,B,L,T,E,k,O,I,N,H,$,Y,j,z,K,q,A,Q,G,J,U,W,X,et,Z,tt,ct,lt,pt,dt,at,ot,nt,it,st,P,mt,rt],styles:[".screening-management-container[_ngcontent-%COMP%]{padding:20px}.dashboard-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.dashboard-title-marker[_ngcontent-%COMP%]{width:5px;height:30px;background-color:#ff6b6b;margin-right:10px;border-radius:3px}.dashboard-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin:0}.action-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px;gap:10px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.table-card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:30px}.accent-spinner[_ngcontent-%COMP%]     circle{stroke:#ff6b6b!important}.filter-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.room-table[_ngcontent-%COMP%]{width:100%}.action-button[_ngcontent-%COMP%]{color:#ff6b6b}.delete-button[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff!important}.accent-bg[_ngcontent-%COMP%]{background-color:#ff6b6b!important;color:#fff!important}  .mat-mdc-form-field-focus-overlay{background-color:#ffffff0a}  .mat-mdc-text-field-wrapper{background-color:#ffffff0a!important}  .mat-mdc-form-field-label{color:#ffffffb3!important}  .mat-mdc-input-element{color:#fff!important}  .mat-mdc-card-content{color:#fff!important}  .mat-sort-header-content{color:#fff!important}  .mat-mdc-paginator-range-label,   .mat-mdc-paginator-page-size-label{color:#fff!important}  .mat-mdc-select-value,   .mat-mdc-select-arrow{color:#fff!important}  .mat-mdc-table .mat-mdc-header-cell{color:#ffffffde!important;background-color:#2c2c2c!important}  .mat-mdc-table .mat-mdc-cell{color:#fff!important}  .mat-mdc-raised-button:not(.accent-bg):not(.delete-button){background-color:#444!important;color:#fff!important}  .mat-mdc-paginator{background-color:#2c2c2c!important}  .mat-mdc-icon-button{color:#ffffffb3!important}  .mat-mdc-icon-button:disabled{color:#ffffff4d!important}@media (max-width: 768px){.action-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}}"]})};export{_t as RoomManagementComponent};
