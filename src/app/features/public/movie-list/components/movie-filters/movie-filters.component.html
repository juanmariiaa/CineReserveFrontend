<!-- Search and filter section -->
<div class="search-filter-section">
  <div class="search-container">
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Search movies</mat-label>
      <input
        matInput
        [formControl]="searchControl"
        placeholder="Enter movie title"
      />
      <mat-icon matPrefix>search</mat-icon>
      <button
        *ngIf="searchControl.value"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="searchControl.setValue('')"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <mat-accordion class="filter-accordion" multi>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>filter_list</mat-icon> Filter & Sort Options
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="filters-container">
        <div class="filter-row">
          <div class="filter-group">
            <label class="filter-label">Genre</label>
            <mat-form-field appearance="outline">
              <mat-label>Select genres</mat-label>
              <mat-select [formControl]="genreControl" multiple>
                <mat-option
                  *ngFor="let genre of filterOptions.genres"
                  [value]="genre"
                  >{{ genre }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>

          <div class="filter-group">
            <label class="filter-label">Duration</label>
            <mat-form-field appearance="outline">
              <mat-label>Movie length</mat-label>
              <mat-select [formControl]="durationControl">
                <mat-option [value]="''">Any duration</mat-option>
                <mat-option
                  *ngFor="let duration of filterOptions.durations"
                  [value]="duration.value"
                >
                  {{ duration.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="filter-group">
            <label class="filter-label">Rating</label>
            <mat-form-field appearance="outline">
              <mat-label>Age rating</mat-label>
              <mat-select [formControl]="ratingControl">
                <mat-option [value]="''">Any rating</mat-option>
                <mat-option
                  *ngFor="let rating of filterOptions.ratings"
                  [value]="rating"
                  >{{ rating }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <div class="filter-row">
          <div class="filter-group">
            <label class="filter-label">Time Frame</label>
            <mat-form-field appearance="outline">
              <mat-label>Showing</mat-label>
              <mat-select [formControl]="timeFrameControl">
                <mat-option [value]="''">All screenings</mat-option>
                <mat-option
                  *ngFor="let timeFrame of filterOptions.timeFrames"
                  [value]="timeFrame.value"
                >
                  {{ timeFrame.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="filter-group">
            <label class="filter-label">Sort By</label>
            <mat-form-field appearance="outline">
              <mat-label>Sort movies</mat-label>
              <mat-select [formControl]="sortControl">
                <mat-option
                  *ngFor="let sort of filterOptions.sortOptions"
                  [value]="sort.value"
                >
                  {{ sort.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <div class="filter-actions">
          <button mat-stroked-button color="primary" (click)="onResetFilters()">
            <mat-icon>refresh</mat-icon> Reset Filters
          </button>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
